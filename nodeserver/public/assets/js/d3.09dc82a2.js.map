{"version":3,"sources":["webpack:///./src/components/d3js.vue?8239","webpack:///./src/assets/m.jpg","webpack:///./src/components/d3js.vue?3c9e","webpack:///src/components/d3js.vue","webpack:///./src/components/d3js.vue?b62d","webpack:///./src/components/d3js.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_d3js_vue_vue_type_style_index_0_id_5f435dfa_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_d3js_vue_vue_type_style_index_0_id_5f435dfa_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","p","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","id","d3jsvue_type_script_lang_js_","name","data","src","mounted","width","height","img_w","img_h","radius","svg","d3","select","append","attr","root","nodes","image","edges","source","target","relation","force","layout","links","size","linkDistance","charge","start","edges_line","selectAll","enter","style","on","d","i","console","log","edges_text","text","drag","fixed","nodes_img","defs","catpattern","edge","call","text_dx","text_dy","nodes_text","forEach","x","y","methods","components_d3jsvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","length","key","explicit","Collection","proto"],"mappings":"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","file":"js/d3.09dc82a2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./d3js.vue?vue&type=style&index=0&id=5f435dfa&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./d3js.vue?vue&type=style&index=0&id=5f435dfa&scoped=true&lang=less&\"","module.exports = __webpack_public_path__ + \"img/m.3c22a2a3.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('div',{attrs:{\"id\":\"d3\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hello\">\r\n    <div id=\"d3\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  data() {\r\n    return {\r\n      src: require(\"./../assets/m.jpg\")\r\n    };\r\n  },\r\n  mounted() {\r\n    var width = 1200;\r\n    var height = 500;\r\n    var img_w = 77;\r\n    var img_h = 90;\r\n    var radius = 30; //圆形半径\r\n\r\n    var svg = d3\r\n      .select(\"#d3\")\r\n      .append(\"svg\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height);\r\n    var root = {\r\n      nodes: [\r\n        { name: \"云天河\", image: this.src },\r\n        { name: \"韩菱纱\", image: this.src },\r\n        { name: \"柳梦璃\", image: this.src },\r\n        { name: \"慕容紫英\", image: this.src },\r\n        { name: \"云天青\", image: this.src },\r\n        { name: \"夙玉\", image: this.src },\r\n        { name: \"玄霄\", image: this.src },\r\n        { name: \"夙瑶\", image: this.src },\r\n        { name: \"太清\", image: this.src },\r\n        { name: \"宗炼\", image: this.src },\r\n        { name: \"婵幽\", image: this.src },\r\n        { name: \"奚仲\", image: this.src },\r\n        { name: \"归邪\", image: this.src }\r\n      ],\r\n      edges: [\r\n        { source: 0, target: 1, relation: \"挚友\" },\r\n        { source: 0, target: 2, relation: \"挚友\" },\r\n        { source: 0, target: 3, relation: \"挚友\" },\r\n        { source: 1, target: 2, relation: \"挚友\" },\r\n        { source: 1, target: 3, relation: \"挚友\" },\r\n        { source: 2, target: 3, relation: \"挚友\" },\r\n        { source: 0, target: 4, relation: \"父子\" },\r\n        { source: 0, target: 5, relation: \"母子\" },\r\n        { source: 4, target: 5, relation: \"夫妻\" },\r\n        { source: 0, target: 6, relation: \"义兄弟\" },\r\n        { source: 4, target: 6, relation: \"同门\" },\r\n        { source: 5, target: 6, relation: \"同门\" },\r\n        { source: 4, target: 7, relation: \"同门\" },\r\n        { source: 5, target: 7, relation: \"同门\" },\r\n        { source: 6, target: 7, relation: \"同门\" },\r\n        { source: 4, target: 8, relation: \"师徒\" },\r\n        { source: 5, target: 8, relation: \"师徒\" },\r\n        { source: 6, target: 8, relation: \"师徒\" },\r\n        { source: 7, target: 8, relation: \"师徒\" },\r\n        { source: 8, target: 9, relation: \"同门\" },\r\n        { source: 3, target: 9, relation: \"师徒\" },\r\n        { source: 2, target: 10, relation: \"母子\" },\r\n        { source: 10, target: 11, relation: \"主臣\" },\r\n        { source: 10, target: 12, relation: \"主臣\" },\r\n        { source: 11, target: 12, relation: \"同僚\" }\r\n      ]\r\n    };\r\n    //D3力导向布局\r\n    var force = d3.layout\r\n      .force()\r\n      .nodes(root.nodes)\r\n      .links(root.edges)\r\n      .size([width, height])\r\n      .linkDistance(200)\r\n      .charge(-2000)\r\n      .start();\r\n\r\n    var marker = svg\r\n      .append(\"marker\")\r\n      //.attr(\"id\", function(d) { return d; })\r\n      .attr(\"id\", \"resolved\")\r\n      //.attr(\"markerUnits\",\"strokeWidth\")//设置为strokeWidth箭头会随着线的粗细发生变化\r\n      .attr(\"markerUnits\", \"userSpaceOnUse\")\r\n      .attr(\"viewBox\", \"0 -5 10 10\") //坐标系的区域\r\n      .attr(\"refX\", 33) //箭头坐标\r\n      .attr(\"refY\", 0)\r\n      .attr(\"markerWidth\", 12) //标识的大小\r\n      .attr(\"markerHeight\", 12)\r\n      .attr(\"orient\", \"auto\") //绘制方向，可设定为：auto（自动确认方向）和 角度值\r\n      .attr(\"stroke-width\", 2) //箭头宽度\r\n      .append(\"path\")\r\n      .attr(\"d\", \"M0,-5L10,0L0,5\") //箭头的路径\r\n      .attr(\"fill\", \"#000000\"); //箭头颜色\r\n\r\n    //线\r\n    var edges_line = svg\r\n      .selectAll(\"line\")\r\n      .data(root.edges)\r\n      .enter()\r\n      .append(\"line\")\r\n      .style(\"stroke\", \"#ccc\")\r\n      .style(\"stroke-width\", 2)\r\n      .attr(\"marker-end\", \"url(#resolved)\") //根据箭头标记的id号标记箭头\r\n      .on(\"click\", function(d, i) {\r\n        console.log(d, i, \"线\");\r\n      });\r\n\r\n    //边上的文字（人物之间的关系）\r\n    var edges_text = svg\r\n      .selectAll(\".linetext\")\r\n      .data(root.edges)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"class\", \"linetext\")\r\n      .text(function(d) {\r\n        return d.relation;\r\n      })\r\n      .on(\"click\", function(d, i) {\r\n        console.log(d, i, \"人物之间的关系\");\r\n      });\r\n\r\n    var drag = force.drag().on(\"dragstart\", function(d, i) {\r\n      d.fixed = true; //拖拽开始后设定被拖拽对象为固定\r\n      // label_text_2.text(\"拖拽状态：开始\");\r\n    });\r\n    // .on(\"dragend\", function (d, i) {\r\n    //     label_text_2.text(\"拖拽状态：结束\");\r\n    // })\r\n    // .on(\"drag\", function (d, i) {\r\n    //     label_text_2.text(\"拖拽状态：进行中\");\r\n    // });\r\n\r\n    // 圆形图片节点（人物头像）\r\n    var nodes_img = svg\r\n      .selectAll(\"image\")\r\n      .data(root.nodes)\r\n      .enter()\r\n      .append(\"circle\")\r\n      .attr(\"class\", \"circleImg\")\r\n      .attr(\"r\", radius)\r\n      .attr(\"fill\", function(d, i) {\r\n        //创建圆形图片\r\n        var defs = svg.append(\"defs\").attr(\"id\", \"imgdefs\");\r\n\r\n        var catpattern = defs\r\n          .append(\"pattern\")\r\n          .attr(\"id\", \"catpattern\" + i)\r\n          .attr(\"height\", 1)\r\n          .attr(\"width\", 1);\r\n\r\n        catpattern\r\n          .append(\"image\")\r\n          .attr(\"x\", -(img_w / 2 - radius))\r\n          .attr(\"y\", -(img_h / 2 - radius))\r\n          .attr(\"width\", img_w)\r\n          .attr(\"height\", img_h)\r\n          .attr(\"xlink:href\", d.image);\r\n\r\n        return \"url(#catpattern\" + i + \")\";\r\n      })\r\n      .on(\"mouseover\", function(d, i) {\r\n        // //显示连接线上的文字\r\n        // edges_text.style(\"fill-opacity\", function (edge) {\r\n        //     if (edge.source === d || edge.target === d) {\r\n        //         return 1.0;\r\n        //     }\r\n        // });\r\n      })\r\n      .on(\"mouseout\", function(d, i) {\r\n        //隐去连接线上的文字\r\n        // edges_text.style(\"fill-opacity\", function (edge) {\r\n        //     if (edge.source === d || edge.target === d) {\r\n        //         return 0.0;\r\n        //     }\r\n        // });\r\n      })\r\n      .on(\"click\", function(d, i) {\r\n        edges_text.style(\"fill\", function(edge) {\r\n          if (edge.source === d || edge.target === d) {\r\n            return \"#f31515\";\r\n          }\r\n        });\r\n        edges_line.style(\"stroke\", function(edge) {\r\n          if (edge.source === d || edge.target === d) {\r\n            return \"#f31515\";\r\n          } else {\r\n            return \"#ccc\";\r\n          }\r\n        });\r\n      })\r\n      .call(drag);\r\n\r\n    var text_dx = -20;\r\n    var text_dy = 20;\r\n\r\n    var nodes_text = svg\r\n      .selectAll(\".nodetext\")\r\n      .data(root.nodes)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"class\", \"nodetext\")\r\n      .attr(\"dx\", text_dx)\r\n      .attr(\"dy\", text_dy)\r\n      .text(function(d) {\r\n        return d.name;\r\n      })\r\n      .on(\"click\", function(d, i) {\r\n        console.log(d, i, \"点击名字\");\r\n      });\r\n\r\n    force.on(\"tick\", function() {\r\n      //限制结点的边界\r\n      root.nodes.forEach(function(d, i) {\r\n        d.x = d.x - img_w / 2 < 0 ? img_w / 2 : d.x;\r\n        d.x = d.x + img_w / 2 > width ? width - img_w / 2 : d.x;\r\n        d.y = d.y - img_h / 2 < 0 ? img_h / 2 : d.y;\r\n        d.y =\r\n          d.y + img_h / 2 + text_dy > height\r\n            ? height - img_h / 2 - text_dy\r\n            : d.y;\r\n      });\r\n\r\n      //更新连接线的位置\r\n      edges_line.attr(\"x1\", function(d) {\r\n        return d.source.x;\r\n      });\r\n      edges_line.attr(\"y1\", function(d) {\r\n        return d.source.y;\r\n      });\r\n      edges_line.attr(\"x2\", function(d) {\r\n        return d.target.x;\r\n      });\r\n      edges_line.attr(\"y2\", function(d) {\r\n        return d.target.y;\r\n      });\r\n\r\n      //更新连接线上文字的位置\r\n      edges_text.attr(\"x\", function(d) {\r\n        return (d.source.x + d.target.x) / 2;\r\n      });\r\n      edges_text.attr(\"y\", function(d) {\r\n        return (d.source.y + d.target.y) / 2;\r\n      });\r\n\r\n      //更新结点图片和文字\r\n      nodes_img.attr(\"cx\", function(d) {\r\n        return d.x;\r\n      });\r\n      nodes_img.attr(\"cy\", function(d) {\r\n        return d.y;\r\n      });\r\n\r\n      nodes_text.attr(\"x\", function(d) {\r\n        return d.x;\r\n      });\r\n      nodes_text.attr(\"y\", function(d) {\r\n        return d.y + img_w / 2;\r\n      });\r\n    });\r\n  },\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"less\">\r\n.delete {\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./d3js.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./d3js.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./d3js.vue?vue&type=template&id=5f435dfa&scoped=true&\"\nimport script from \"./d3js.vue?vue&type=script&lang=js&\"\nexport * from \"./d3js.vue?vue&type=script&lang=js&\"\nimport style0 from \"./d3js.vue?vue&type=style&index=0&id=5f435dfa&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f435dfa\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}