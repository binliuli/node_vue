(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d3"],{1384:function(t,e,r){"use strict";var a=r("4248"),n=r.n(a);n.a},"400f":function(t,e,r){t.exports=r.p+"img/m.3c22a2a3.jpg"},"407a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("div",{attrs:{id:"d3"}})])}],i=(r("ac6a"),r("7f7f"),{name:"HelloWorld",data:function(){return{src:r("400f")}},mounted:function(){var t=1200,e=500,r=77,a=90,n=30,i=d3.select("#d3").append("svg").attr("width",t).attr("height",e),o={nodes:[{name:"云天河",image:this.src},{name:"韩菱纱",image:this.src},{name:"柳梦璃",image:this.src},{name:"慕容紫英",image:this.src},{name:"云天青",image:this.src},{name:"夙玉",image:this.src},{name:"玄霄",image:this.src},{name:"夙瑶",image:this.src},{name:"太清",image:this.src},{name:"宗炼",image:this.src},{name:"婵幽",image:this.src},{name:"奚仲",image:this.src},{name:"归邪",image:this.src}],edges:[{source:0,target:1,relation:"挚友"},{source:0,target:2,relation:"挚友"},{source:0,target:3,relation:"挚友"},{source:1,target:2,relation:"挚友"},{source:1,target:3,relation:"挚友"},{source:2,target:3,relation:"挚友"},{source:0,target:4,relation:"父子"},{source:0,target:5,relation:"母子"},{source:4,target:5,relation:"夫妻"},{source:0,target:6,relation:"义兄弟"},{source:4,target:6,relation:"同门"},{source:5,target:6,relation:"同门"},{source:4,target:7,relation:"同门"},{source:5,target:7,relation:"同门"},{source:6,target:7,relation:"同门"},{source:4,target:8,relation:"师徒"},{source:5,target:8,relation:"师徒"},{source:6,target:8,relation:"师徒"},{source:7,target:8,relation:"师徒"},{source:8,target:9,relation:"同门"},{source:3,target:9,relation:"师徒"},{source:2,target:10,relation:"母子"},{source:10,target:11,relation:"主臣"},{source:10,target:12,relation:"主臣"},{source:11,target:12,relation:"同僚"}]},c=d3.layout.force().nodes(o.nodes).links(o.edges).size([t,e]).linkDistance(200).charge(-2e3).start(),s=(i.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",33).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",2).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#000000"),i.selectAll("line").data(o.edges).enter().append("line").style("stroke","#ccc").style("stroke-width",2).attr("marker-end","url(#resolved)").on("click",function(t,e){console.log(t,e,"线")})),u=i.selectAll(".linetext").data(o.edges).enter().append("text").attr("class","linetext").text(function(t){return t.relation}).on("click",function(t,e){console.log(t,e,"人物之间的关系")}),l=c.drag().on("dragstart",function(t,e){t.fixed=!0}),g=i.selectAll("image").data(o.nodes).enter().append("circle").attr("class","circleImg").attr("r",n).attr("fill",function(t,e){var o=i.append("defs").attr("id","imgdefs"),c=o.append("pattern").attr("id","catpattern"+e).attr("height",1).attr("width",1);return c.append("image").attr("x",-(r/2-n)).attr("y",-(a/2-n)).attr("width",r).attr("height",a).attr("xlink:href",t.image),"url(#catpattern"+e+")"}).on("mouseover",function(t,e){}).on("mouseout",function(t,e){}).on("click",function(t,e){u.style("fill",function(e){if(e.source===t||e.target===t)return"#f31515"}),s.style("stroke",function(e){return e.source===t||e.target===t?"#f31515":"#ccc"})}).call(l),f=-20,d=20,m=i.selectAll(".nodetext").data(o.nodes).enter().append("text").attr("class","nodetext").attr("dx",f).attr("dy",d).text(function(t){return t.name}).on("click",function(t,e){console.log(t,e,"点击名字")});c.on("tick",function(){o.nodes.forEach(function(n,i){n.x=n.x-r/2<0?r/2:n.x,n.x=n.x+r/2>t?t-r/2:n.x,n.y=n.y-a/2<0?a/2:n.y,n.y=n.y+a/2+d>e?e-a/2-d:n.y}),s.attr("x1",function(t){return t.source.x}),s.attr("y1",function(t){return t.source.y}),s.attr("x2",function(t){return t.target.x}),s.attr("y2",function(t){return t.target.y}),u.attr("x",function(t){return(t.source.x+t.target.x)/2}),u.attr("y",function(t){return(t.source.y+t.target.y)/2}),g.attr("cx",function(t){return t.x}),g.attr("cy",function(t){return t.y}),m.attr("x",function(t){return t.x}),m.attr("y",function(t){return t.y+r/2})})},methods:{}}),o=i,c=(r("1384"),r("2877")),s=Object(c["a"])(o,a,n,!1,null,"5f435dfa",null);e["default"]=s.exports},4248:function(t,e,r){},"7f7f":function(t,e,r){var a=r("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in n||r("9e1e")&&a(n,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},ac6a:function(t,e,r){for(var a=r("cadf"),n=r("0d58"),i=r("2aba"),o=r("7726"),c=r("32e9"),s=r("84f2"),u=r("2b4c"),l=u("iterator"),g=u("toStringTag"),f=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(d),h=0;h<m.length;h++){var p,x=m[h],y=d[x],L=o[x],k=L&&L.prototype;if(k&&(k[l]||c(k,l,f),k[g]||c(k,g,x),s[x]=f,y))for(p in a)k[p]||i(k,p,a[p],!0)}}}]);
//# sourceMappingURL=d3.09dc82a2.js.map