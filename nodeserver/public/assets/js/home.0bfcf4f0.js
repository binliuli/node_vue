(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"9cfa":function(t,e,a){},ac8d:function(t,e,a){t.exports=a.p+"img/no-data.4c70ac0e.png"},b266:function(t,e,a){"use strict";var s=a("9cfa"),n=a.n(s);n.a},c3b0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("section",{staticClass:"search-box"},[s("div",{staticClass:"keyword"},[s("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入内容","popper-class":"keyword-autocomplete"},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[s("div",{staticClass:"item-line"},[s("div",{staticClass:"title"},[t._v(t._s(a.value))]),s("span",{staticClass:"type",class:{port:"港口"===a.type,city:"城市"===a.type,county:"国家"===a.type}},[t._v(t._s(a.type))])])]}}]),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),s("el-button",{staticClass:"search-btn",attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.search}})],1),s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"result"},[s("div",{staticClass:"result-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("查询结果")])]),t.tableData.length?s("div",{staticClass:"table-data"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-row-class-name":"t-header"}},[s("el-table-column",{attrs:{prop:"index",label:"序号",width:"60"}}),s("el-table-column",{attrs:{prop:"riskLevel",label:"风险等级",width:"80"}}),s("el-table-column",{attrs:{label:"被查询词"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{domProps:{innerHTML:t._s(e.row.keyword)}})]}}],null,!1,674813178)}),s("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),s("el-table-column",{attrs:{prop:"alias",label:"别名"}}),s("el-table-column",{attrs:{label:"实体名称 (港口，城市，国家)",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{domProps:{innerHTML:t._s(e.row.entityName)}})]}}],null,!1,1024712447)})],1)],1):s("div",{staticClass:"no-data"},[s("figure",[s("img",{attrs:{src:a("ac8d"),alt:""}})]),s("p",[t._v("暂无数据")])])])],1),s("div",{staticClass:"home-bg"})])},n=[],i=(a("96cf"),a("3b8d")),r={name:"home",data:function(){return{risk_keys:[],timeout:null,keyword:"",isLoading:!1,tableData:[]}},methods:{loadAll:function(){return[{value:"Alexandrovsk【Alexport】, Alexandrovsk , Russia",type:"港口"},{value:"Alexandrovsk , Russia",type:"城市"},{value:"Russia",type:"国家"}]},querySearchAsync:function(t,e){this.getRiskKeywordsList(t).then(function(t){e(t.data.result)})},handleSelect:function(t){this.$set(this.$data,"keyword",t.value)},search:function(){this.getRiskList()},getRiskKeywordsList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/risk_keys");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getRiskList:function(){var t=this;this.$set(this.$data,"isLoading",!0),this.$axios.get("/api/risks",{params:{keyword:this.keyword}}).then(function(e){200===e.data.code&&t.$set(t.$data,"tableData",e.data.result),t.$set(t.$data,"isLoading",!1)})}},mounted:function(){this.risk_keys=this.loadAll()}},l=r,o=(a("b266"),a("2877")),c=Object(o["a"])(l,s,n,!1,null,"7edd6c51",null);e["default"]=c.exports}}]);
//# sourceMappingURL=home.0bfcf4f0.js.map